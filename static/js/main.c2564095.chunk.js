(this["webpackJsonpbus-app"]=this["webpackJsonpbus-app"]||[]).push([[0],{26:function(n,t,e){},27:function(n,t,e){},34:function(n,t,e){"use strict";e.r(t);var i,o,a,r,c,s,p,u,d,x,l,b,h,j,g,f,m,O,A,w,F,v,B,y,S,D=e(1),N=e.n(D),C=e(17),k=e.n(C),I=(e(26),e(5)),U=(e(27),e(2)),R=e(3),E=Object(R.a)(i||(i=Object(U.a)(["\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n    box-sizing: border-box;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n"]))),T=Object(R.a)(o||(o=Object(U.a)(["\nhtml {\n    box-sizing: border-box;\n}\n"]))),z="@media only screen and (min-width: 768px)",M="@media only screen and (min-width: 1440px)",q=R.b.nav(a||(a=Object(U.a)(["\n    background-color: #FFFFFF;\n    width: 100%; \n    position: relative;\n    top: 0;\n    height: 80px;\n    overflow: hidden;\n\n    .link {\n        width: 104px;\n        height: 38px;\n    }\n"]))),Z=R.b.div(r||(r=Object(U.a)(["\n    position: absolute;\n    top: 20px;\n    left: 30px;\n\n    "," {\n        left: 150px;\n    }\n"])),M),Y=R.b.div(c||(c=Object(U.a)(["\n    width: 104px;\n    height: 38px;\n    font-size: 20px;\n    color: #FFFFFF;\n    background: #6B00FF;\n    border-radius: 100px;\n    position: absolute;\n    top: 21px;\n    right: 30px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    "," {\n        right: 150px;\n    }\n"])),M),Q=(R.b.button(s||(s=Object(U.a)(["\n    position: absolute;\n    top: 20px;\n    right: 30px;\n    border: none;\n    background: transparent;\n"]))),R.b.div(p||(p=Object(U.a)(["\n    position: relative;\n    top: 80px;\n    width: 411px;\n    height: 284px;\n    background-color: #6B00FF;\n    border-radius: 0 0 16px 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center; \n    row-gap: 52px;\n    z-index: 5;\n\n    \n    a {\n        text-align: center;\n        color: #FFFFFF;\n        text-decoration: none;\n        display: block;\n        font-size: 28px;\n    }\n\n    div {\n        position: absolute;\n        width: 395px;\n        height: 0;\n        border-bottom: 1px solid #00C2BA;\n        postion: absolute;\n    }\n    \n    .first-border {\n        top: 98px;\n    }\n\n    .second-border {\n        bottom: 88px;\n    }\n"]))),e.p+"static/media/Logo.5d5cbc0e.svg"),P=e.p+"static/media/searchicon.e1e77232.svg",V=e(8),G=e(0),W=function(){return Object(G.jsxs)(q,{id:"navBar",className:"navbar",children:[Object(G.jsx)(Z,{children:Object(G.jsx)("img",{src:Q,alt:"logo"})}),Object(G.jsx)(V.b,{to:"/",className:"link",children:Object(G.jsxs)(Y,{children:[Object(G.jsx)("img",{src:P,alt:"searchbus"}),"\u627e\u516c\u8eca"]})})]})},J=R.b.div(u||(u=Object(U.a)(["\n  max-width: 411px;\n  margin: 0 auto;\n  margin-bottom: 30px;\n   \n  img {\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    z-index: -999;\n  }\n\n  "," {\n    max-width: 768px;\n  }\n\n  "," {\n    max-width: 1200px;\n  }\n\n"])),z,M),K=R.b.div(d||(d=Object(U.a)(["\n\n  h1 {\n      color: #6B00FF;\n      font-size: 36px;\n      font-weight: 700;\n      text-align: center;\n      margin: 30px 0 20px 0;\n  }\n\n  "," {\n    h1 {\n      margin: 60px 0 30px 0;\n    }\n  }\n"])),z),H=R.b.div(x||(x=Object(U.a)(["\n   width: 379px;\n   height: 208px;\n   background-color: #FFFFFF;\n   margin: 0 auto;\n   border-radius: 16px;\n   box-shadow: 0px 5px 4px rgba(0, 0, 0, 0.25);\n   postition: relative;\n   \n   "," {\n    width: 500px;\n   }\n"])),z),X=R.b.form(l||(l=Object(U.a)(['\n  \n  padding-top: 16px;\n  \n  input[type="radio"] { \n    display: none;\n  }\n\n  .searchRoute {\n    padding-left: 93.5px;\n  }\n\n  .searchStop {\n    padding-left: 40px;\n  }\n\n  label {\n    color: #6B00FF;\n    font-weight: 700;\n  }\n\n  span {\n    box-sizing: content-box;\n    padding-left: 8px;\n    \n  }\n\n  input[type="radio"] + label span {\n    width: 24px;\n    height: 24px;\n    display: inline-block;\n    vertical-align:middle;\n    background: url(',') no-repeat;\n\n  }\n\n  input[type="radio"]:checked + label span {\n    background: url(',')  no-repeat;\n  }\n\n  input[type="text"] {\n    width: 293px;\n    height: 51px;\n    position: absolute;\n    border-radius: 16px;\n    border: 1px solid #E0E0E0;\n    background-color: #F2F2F2;\n    padding-left: 58px;\n    color: #5B4E6E;\n    font-size: 16px;\n    font-weight: 700;\n  }\n  .search {\n    position: absolute;\n    left: 16px;\n    bottom: 20px;\n    color: #6B00FF;\n    font-weight: 700;\n    z-index: 4;\n  } \n\n  ',' {\n\n    .searchRoute {\n      padding-left: 150px;\n    }\n\n    input[type="text"] {\n      width: 414px;\n    }\n  }\n'])),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHnSURBVHgBtZbrbcIwFIWd8OYHygKIZIK2G9AJ6AZtN+gGwAZ0gtINygRNJygbxGWBWPzg/eg5loNQCoFCciQT4sD5cq/ta1vihIIgaFqW9YivTTTHNGrItt1uB57nfSR5WAnmLzBvFwoFB03k83mRy+UE+gSMxXq91m0+n4vVaiXR32k0Gu9nQWDu4g9vMG5WKhVtfkqbzUaMx2NefbzAMyKTRyEG8Alzl4D/ajKZiNlsJgG63wdZewAHgO9LAQdAdwAp9tl7zzulUukqAFWtVkW5XHZt225HfToSpgmDGtRqNYGH4lpxYiilOEZMm68dOYsYQRoA4yeQFfq19D0/pJShA6UFoRhNGIYKV8/mYuNaSBNAMRoMARfuLbztm7QBkbjG4N2gu5MVxPi62bjHYZhmPywLWcj4KkYiUeBEFmIBRcqGhAxxw6km0hQBeHlVr9e/bNYXTLc+6o1IUyY7ep/RA4/cDQhJKxpGMZ1O6dfdQVhfcOmxgqYhA+hF5X43hRFNF7uc5A+uEV90sVhI+kV9OwjHhpsNIBeDYpuW+gMxIGlAPks1c3uOlsul3n4B8OO7IpV0kHgyBwm3WCzqQ0T8IMEZhNToqWoOEq+HvI5CIo1Goxby+4Cvt6ZRyjQf4D7XQpLHLxhiIfvZxMg1AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK+SURBVHgBtVY7bNNQFL2248RRpZCOIKVJuoEEFMoIUhAjRe1Qpg6UoQMswEYnYKJjmMpGkaBTByoFJiSCYKQQUcHYpBnaMSZD4iROwj2P51cnkF8jjvTk3/M5795377E1GoB8Pp/SNO0Wn6Z4ROUAchjtdns7mUy+6ceh9SG/z+SPTNOM8qBAIECGYRDfIyamZrMpRq1WI9d1C3z/cTwefzmUCJMn+IUXTJwKh8OCfBBarRaVy2Ucs7yA2xxZoaeIFPjA5AkIjIpKpUKO4xRY6KpfSPMJRFngW7eAY2v0ZTNAPzMmHe7q5PzSyDrRppNnWzS7VOfh9hK6wEJ2t0jasqx7ExMT6oW9TwZt3QlTqdhz62hyqkWL6w5NX2l2CPFepXmPHigRpIk3NR+JREjXdTFx55VJW3ctGhY316t0UUaFwrBtG3uEtGUFI6oIKfIESvs6ZVZDNAoyDy1+70/EqMBQKAS+eVzrcs4CytTD+6dBkftRUOX5SK0HLJojWsZe62g29II/iq+bJh0He58NtThEw1uAxp1hbv28JwAc7Oo0Dn5kDHWOHmPuOBijfpHDMUVKxaP3JW9iPMYhoXOZ7cMWPExOtWkcoEk9SF4bkRTY4NSDM3MujYNT546aEgbKKctBJMcXNhoICLNlTF9u0nEwu9RQmYAAL96OxWIfdfgLl9sG+42avPjcEf40CjD/2mpNXcvsiO+M2HjO3TZEvGjgR3NrtVE06Maa0xFFtVoF3xMlAn/hQxrGRr7QV95WBhYCFrTyrqJ8C5ACac/uB1o9sPPaZBcI0MF3Q1k9Nvj0dZcuMbk/tX2tXgr9l49WRzPiASZwuFlYNXI7DBqNhvj8skC2W+CvSPzgqJblj0QiGAyKn4juHwlUUL1eF6UqfySe/YtroJ8Xi8V5rr4FPp2RA7DlyLLwBnqhH8dvWUR66K+/URcAAAAASUVORK5CYII=",z),L=R.b.select(b||(b=Object(U.a)(["\n   appearance:none;\n   -moz-appearance:none;\n   -webkit-appearance:none;\n   width: 355px;\n   height: 55px;\n   border-radius: 16px;\n   border: 1px solid #E0E0E0;\n   margin: 20px 12px;\n   color: #5B4E6E;\n   font-size: 16px;\n   font-weight: 700;\n   padding-left: 58px;\n   background-color: #F2F2F2;\n   position: relative;\n\n   ","{\n     width: 476px;\n   }\n   \n"])),z),_=R.b.div(h||(h=Object(U.a)(["\n    position: absolute;\n    top: 40px;\n    left: 28px;\n    color: #6B00FF;\n    font-weight: 700;\n    z-index: 4;\n"]))),$=R.b.div(j||(j=Object(U.a)(["\n  width: 355px;\n  height: 56px;\n  margin-left: 12px;\n  position: relative;\n"]))),nn=R.b.div(g||(g=Object(U.a)(["\n  position: relative;\n  img {\n    width: 12px;\n    height: 7px;\n    position: absolute;\n    left: 333px;\n    top: 45px;\n    z-index: 5;\n\n    "," {\n      left: 455px;\n    }\n  }\n"])),z),tn=e.p+"static/media/searchBus-lg.664475c0.png",en=R.b.div(f||(f=Object(U.a)(["\n  width: 379px;\n  margin: 30px auto 0 auto;\n  padding: 16px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(242, 242, 242, 0.8);\n  backdrop-filter: blur(5px);\n  border-radius: 16px;\n  flex-wrap: wrap; \n  gap: 20px 16px;\n  position: relative;\n\n  .link {\n    width: 92%;\n    height: 90px;\n  }\n  \n  "," {\n    width: 648px;\n\n    .link{\n      width: 300px;\n    }\n  }\n\n  "," {\n    width: 1140px;\n\n    .link {\n      width: 358.67px;\n    }\n  }\n\n"])),z,M),on=R.b.div(m||(m=Object(U.a)(["\n  width: 100%;\n  height: 90px;\n  border-radius: 16px;\n  background-color: #6B00FF;\n  cursor: pointer;\n  padding: 16px;\n  position: relative;\n  \n\n  &:hover {\n    box-shadow: 0px 5px 4px rgba(0, 0, 0, 0.25);\n  }\n\n"]))),an=R.b.p(O||(O=Object(U.a)(["\n  width: 100%;\n  color: #FFFFFF;\n  font-size: 16px;\n  font-weight: bold;\n  display: inline-block;\n  \n  "," {\n    font-size: 20px\n  }\n\n"])),z),rn=R.b.div(A||(A=Object(U.a)(["\n  width: 58px;\n  height: 20px;\n  background: #42EDF0;\n  border-radius: 20px;\n  color: #6B00FF;\n  font-size: 14px;\n  text-align: center;\n  vertical-align: center;\n  padding: 3px;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n\n"]))),cn=R.b.p(w||(w=Object(U.a)(["\n  color: #FFCC00;\n  font-size: 14px;\n  margin-top: 7px;\n  font-weight: 500px;\n  position: absolute;\n  bottom: 16px;\n\n  "," {\n    font-size: 16px;\n  }\n"])),z),sn=function(n){var t=n.busRouteData,e=n.twCityName,i=n.setRouteUID,o=n.setRoundName,a=function(n){return function(){i(n.RouteUID),o({depart:n.DepartureStopNameZh,destination:n.DestinationStopNameZh})}};return Object(G.jsx)(en,{children:t.map((function(n,t){return Object(G.jsx)(V.b,{to:"/busroute/".concat(n.RouteName.Zh_tw),className:"link",children:Object(G.jsxs)(on,{onClick:a(n),children:[Object(G.jsx)(an,{children:n.RouteName.Zh_tw.length<15?n.RouteName.Zh_tw:n.RouteName.Zh_tw.slice(0,14)+"..."}),Object(G.jsx)(rn,{children:e}),Object(G.jsxs)(cn,{children:[n.DepartureStopNameZh," \u2194 ",n.DestinationStopNameZh]})]})},t)}))})},pn=R.b.div(F||(F=Object(U.a)(["\n  width: 379px;\n  margin: 30px auto 0 auto;\n  padding: 16px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(242, 242, 242, 0.8);\n  backdrop-filter: blur(5px);\n  border-radius: 16px;\n  flex-wrap: wrap; \n  gap: 20px 16px;\n  position: relative;\n\n  .link {\n    width: 92%;\n    height: 90px;\n  }\n  \n  "," {\n    width: 648px;\n\n    .link{\n      width: 300px;\n    }\n  }\n\n  "," {\n    width: 1140px;\n\n    .link {\n      width: 358.67px;\n    }\n  }\n\n"])),z,M),un=R.b.div(v||(v=Object(U.a)(["\n  width: 100%;\n  height: 90px;\n  border-radius: 16px;\n  background-color: #6B00FF;\n  cursor: pointer;\n  padding: 16px;\n  position: relative;\n  \n\n  &:hover {\n    box-shadow: 0px 5px 4px rgba(0, 0, 0, 0.25);\n  }\n\n"]))),dn=R.b.p(B||(B=Object(U.a)(["\n  width: 100%;\n  color: #FFFFFF;\n  font-size: 16px;\n  font-weight: bold;\n  display: inline-block;\n  \n  "," {\n    font-size: 20px\n  }\n\n"])),z),xn=R.b.div(y||(y=Object(U.a)(["\n  width: 58px;\n  height: 20px;\n  background: #42EDF0;\n  border-radius: 20px;\n  color: #6B00FF;\n  font-size: 14px;\n  text-align: center;\n  vertical-align: center;\n  padding: 3px;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n\n"]))),ln=R.b.p(S||(S=Object(U.a)(["\n  color: #FFCC00;\n  font-size: 14px;\n  margin-top: 7px;\n  font-weight: 500px;\n  position: absolute;\n  bottom: 16px;\n\n  "," {\n    font-size: 16px;\n  }\n"])),z),bn=function(n){var t=n.busStopData,e=n.twCityName,i=n.setStopUID;return Object(G.jsx)(pn,{children:t.map((function(n,t){return Object(G.jsx)(V.b,{to:"/busstop/".concat(n.StopName.Zh_tw),className:"link",children:Object(G.jsxs)(un,{onClick:function(){return i(n.StopUID)},children:[Object(G.jsx)(dn,{children:n.StopName.Zh_tw.length<15?n.StopName.Zh_tw:n.StopName.Zh_tw.slice(0,14)+"..."}),Object(G.jsx)(xn,{children:e}),Object(G.jsx)(ln,{children:n.StopAddress})]})},t)}))})},hn=[{city:"\u57fa\u9686\u5e02",enCityName:"Keelung"},{city:"\u65b0\u5317\u5e02",enCityName:"NewTaipei"},{city:"\u81fa\u5317\u5e02",enCityName:"Taipei"},{city:"\u6843\u5712\u5e02",enCityName:"Taoyuan"},{city:"\u65b0\u7af9\u5e02",enCityName:"Hsinchu"},{city:"\u65b0\u7af9\u7e23",enCityName:"HsinchuCounty"},{city:"\u82d7\u6817\u7e23",enCityName:"MiaoliCounty"},{city:"\u53f0\u4e2d\u5e02",enCityName:"Taichung"},{city:"\u5f70\u5316\u7e23",enCityName:"ChanghuaCounty"},{city:"\u5357\u6295\u7e23",enCityName:"NantouCounty"},{city:"\u96f2\u6797\u7e23",enCityName:"YunlinCounty"},{city:"\u5609\u7fa9\u5e02",enCityName:"Chiayi"},{city:"\u5609\u7fa9\u7e23",enCityName:"ChiayiCounty"},{city:"\u53f0\u5357\u5e02",enCityName:"Tainan"},{city:"\u9ad8\u96c4\u5e02",enCityName:"Kaohsiung"},{city:"\u5c4f\u6771\u7e23",enCityName:"PingtungCounty"},{city:"\u53f0\u6771\u7e23",enCityName:"TaitungCounty"},{city:"\u82b1\u84ee\u7e23",enCityName:"HualienCounty"},{city:"\u6f8e\u6e56\u7e23",enCityName:"PenghuCounty"},{city:"\u91d1\u9580\u7e23",enCityName:"KinmenCounty"},{city:"\u9023\u6c5f\u7e23",enCityName:"LienchiangCounty"}];var jn=function(n,t,e){for(var i=[],o=function(o){i.push(n[o].RouteUID,n[o].Stops);var a=i.flat(),r=a.findIndex((function(n){return n.StopUID==="".concat(t)})),c=e.findIndex((function(n){return n===a[0]}));r>-1&&-1===c?(e.push(a[0]),i=[]):i=[]},a=0;a<n.length;a++)o(a);return e},gn=e(21);var fn,mn,On,An,wn,Fn,vn,Bn,yn,Sn,Dn,Nn,Cn,kn,In,Un,Rn,En,Tn,zn,Mn,qn,Zn,Yn,Qn,Pn,Vn,Gn,Wn,Jn,Kn=function(){var n=(new Date).toGMTString(),t=new gn.a("SHA-1","TEXT");return t.setHMACKey("zWYkCVgJ4RhIOW3JMUUorOh2T_U","TEXT"),t.update("x-date: "+n),{Authorization:'hmac username="8169cb31a9d144a29702b83c1647652d", algorithm="hmac-sha1", headers="x-date", signature="'+t.getHMAC("B64")+'"',"X-Date":n}},Hn=function(n){var t=n.setTwCityName,e=n.twCityName,i=n.cityName,o=n.setCityName,a=n.setRouteUID,r=n.routeUID,c=n.setRoundName,s=n.setStopUID,p=Object(D.useState)("searchRoute"),u=Object(I.a)(p,2),d=u[0],x=u[1],l=Object(D.useState)(""),b=Object(I.a)(l,2),h=b[0],j=b[1],g=Object(D.useState)(""),f=Object(I.a)(g,2),m=f[0],O=f[1],A=Object(D.useState)([]),w=Object(I.a)(A,2),F=w[0],v=w[1],B=Object(D.useState)([]),y=Object(I.a)(B,2),S=y[0],N=y[1];function C(){var n=document.forms.SearchForm.elements.search;x(n.value)}var k="https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/".concat(i,"/").concat(h,"?%24top=24&%24format=JSON"),U="https://ptx.transportdata.tw/MOTC/v2/Bus/Stop/City/".concat(i,"?%24filter=contains(StopName%2FZh_tw%2C%20'").concat(m,"')&%24top=24&%24format=JSON");return Object(D.useEffect)((function(){0!==h.length&&0!==m&&("searchRoute"===d?fetch(k,{headers:Kn()}).then((function(n){if(n.ok)return n.json();if(n.status>400)return[];throw new Error("Request failed!")}),(function(n){console.log(n.message)})).then((function(n){return v(n)})):fetch(U,{headers:Kn()}).then((function(n){return n.json()})).then((function(n){N(n)})))}),[i,h,d]),Object(G.jsxs)(J,{id:"SearchBusContainer",children:[Object(G.jsxs)(K,{children:[Object(G.jsx)("h1",{children:"\u627e\u516c\u8eca"}),Object(G.jsx)(H,{children:Object(G.jsxs)(X,{id:"SearchForm",children:[Object(G.jsx)("input",{type:"radio",id:"searchRoute",name:"search",value:"searchRoute",onChange:C,defaultChecked:!0}),Object(G.jsxs)("label",{htmlFor:"searchRoute",className:"searchRoute",children:[Object(G.jsx)("span",{}),"\u67e5\u8def\u7dda"]}),Object(G.jsx)("input",{type:"radio",id:"searchStop",name:"search",value:"searchStop",className:"searchStop",onChange:C}),Object(G.jsxs)("label",{htmlFor:"searchStop",className:"searchStop",children:[Object(G.jsx)("span",{}),"\u67e5\u7ad9\u724c"]}),Object(G.jsx)("br",{}),Object(G.jsxs)(nn,{children:[Object(G.jsx)(_,{children:"\u7e23\u5e02"}),Object(G.jsxs)(L,{id:"selectCity",onChange:function(){var n=document.getElementById("selectCity"),e=n.options[n.selectedIndex].text;t(e),o(n.value)},children:[Object(G.jsx)("option",{value:"",children:"\u9078\u53d6\u7e23\u5e02"}),hn.map((function(n,t){return Object(G.jsx)("option",{value:n.enCityName,children:n.city},t)}))]}),Object(G.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACFSURBVHgBhZDRDYMwDERf0kU6QjfoKvSvrboD7Q7lG7EBmyAmYBTjQ4CCCOJ+7PjeWUnA9cSunOiN3VSjN+UFhg/2PYLlBejExgi9hgZlLqSZvGm7s/FPaH3wyIVS2FWIDckdCz/U6r3+lgULXBGa2ds8bA0lWuFdIBPawIfSF76we84bAQidMVYMZpQvAAAAAElFTkSuQmCC",alt:"arrow"})]}),Object(G.jsxs)($,{children:[Object(G.jsx)("div",{className:"search",children:"\u641c\u5c0b"}),Object(G.jsx)("label",{htmlFor:"searchText"}),Object(G.jsx)("input",{type:"text",id:"searchText",name:"searchText",onChange:function(n){n.preventDefault();var t=n.target.value,e=encodeURIComponent(t);j(t),O(e)}})]})]})})]}),function(){if(0!==F.length||0!==S.length)return"searchRoute"===d?Object(G.jsx)(sn,{busRouteData:F,twCityName:e,setRouteUID:a,routeUID:r,setRoundName:c}):Object(G.jsx)(bn,{busStopData:S,twCityName:e,setRouteUID:a,setStopUID:s})}(),Object(G.jsx)("img",{src:tn,alt:"background"})]})},Xn=e(6),Ln=e.n(Xn),_n=e(9),$n=e(10),nt=R.b.div(fn||(fn=Object(U.a)(["\n    max-width: 411px;\n    margin: 0 auto;\n    \n    "," {\n        max-width: 768px;\n    }\n"])),z),tt=R.b.div(mn||(mn=Object(U.a)(["\n    width: 411px;\n    \n    "," {\n        width: 768px;\n    }\n"])),z),et=R.b.div(On||(On=Object(U.a)(["\n    width: 100%;\n    border-radius: 0px 0px 16px 16px;\n    background: #6B00FF;\n    height: 96px;\n    padding: 16px 0 16px 30px;\n    position: absolute;\n    top: 80px;\n    left: 0;\n    display: flex;\n    justify-content: center;\n    \n    "," {\n        padding-left: 7%;\n        height: 114px;\n    }\n"])),z),it=R.b.div(An||(An=Object(U.a)(["\n    background: #42EDF0;\n    border-radius: 20px;\n    font-size: 14px;\n    width: 58px;\n    height: 20px;\n    color: #6B00FF;\n    font-weight: bold;\n    text-align: center;\n    padding-top: 3px;\n"]))),ot=R.b.h2(wn||(wn=Object(U.a)(["\n    font-size: 28px;\n    color: #FFFFFF;\n    font-weight: bold;\n    position: absolute;\n    bottom: 16px;\n    \n    "," {\n        font-size: 36px;\n        bottom: 25px;\n    }\n\n"])),z),at=R.b.div(Fn||(Fn=Object(U.a)(["\n    margin-top: 144px;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    position: relative;\n\n    .lower-right {\n        border: 2px solid #BDBDBD;\n        border-radius: 2px;\n        background: #BDBDBD;\n        width: 15px;\n        height: 0px;\n        transform: rotate(-45deg);\n        position: absolute;\n        left: 206px;  \n        top: 230px;\n    }\n\n    .upper-right {\n        border: 2px solid #BDBDBD;\n        border-radius: 2px;\n        background: #BDBDBD;\n        width: 15px;\n        height: 0px;\n        transform: rotate(45deg);\n        position: absolute;\n        left: 206px;  \n        top: 218px;\n    }\n    \n    .unclick {\n        background-color: #E0E0E0;\n        color: #5B4E6E;\n    }\n\n    .clicked {\n       background-color: #6B00FF;\n       color: #FFFFFF;\n    }\n    \n"]))),rt=R.b.button(vn||(vn=Object(U.a)(["\n    border: none;\n    width: 158.5px;\n    height: 40px;\n    border-radius: 16px;\n    text-align: center;\n    font-size: 15px;\n    line-height: 40px;\n    font-weight: bold;\n    margin: 0 16px;\n    cursor: pointer;\n    overflow:hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    "," {\n        width: 323px;\n        height: 46px;\n        line-height: 46px;\n        font-size: 20px;\n        margin: 0 16px 0 30px;\n    }\n"])),z),ct=Object(R.b)(rt)(Bn||(Bn=Object(U.a)(["\n\n    "," { \n        margin: 0 30px 0 16px;\n    }\n"])),z),st=R.b.div(yn||(yn=Object(U.a)(["\n    border: 1.5px solid #BDBDBD;\n    background: #BDBDBD;\n    width: 30px;\n    height: 0px;\n    position: relative;\n\n    .lower-right {\n        border: 1.5px solid #BDBDBD;\n        border-radius: 2px;\n        background: #BDBDBD;\n        width: 13px;\n        height: 0px;\n        transform: rotate(-45deg);\n        position: absolute;\n        left: 19px;  \n        top: 3px;\n    }\n\n    .upper-right {\n        border: 1.5px solid #BDBDBD;\n        border-radius: 2px;\n        background: #BDBDBD;\n        width: 13px;\n        height: 0px;\n        transform: rotate(45deg);\n        position: absolute;\n        left: 19px;  \n        top: -5px;\n    }\n\n    .lower-left {\n        border: 1.5px solid #BDBDBD;\n        border-radius: 2px;\n        background: #BDBDBD;\n        width: 13px;\n        height: 0px;\n        transform: rotate(228deg);\n        position: absolute;\n        left: -6px;  \n        top: 3px;\n    }\n\n    .upper-left {\n        border: 1.5px solid #BDBDBD;\n        border-radius: 2px;\n        background: #BDBDBD;\n        width: 13px;\n        height: 0px;\n        transform: rotate(135deg);\n        position: absolute;\n        left: -6px;  \n        top: -5px;\n    }\n    \n"]))),pt=R.b.div(Sn||(Sn=Object(U.a)(["\n    margin-top: 30px;\n    display:flex;\n    justify-content: center;\n    flex-wrap: wrap;\n"]))),ut=R.b.div(Dn||(Dn=Object(U.a)(["\n    width: 349px;\n    height: 68px;\n    background: #FFFFFF;\n    border-radius: 16px;\n    padding: 20px 8px;\n    position: relative;\n    margin-bottom: 12px;\n\n    "," {\n        width: 678px;\n        height: 72px;\n    }\n"])),z),dt=R.b.div(Nn||(Nn=Object(U.a)(["\n    width: 72px;\n    height: 28px;\n    background: ",";\n    border-radius: 16px;\n    color: #FFFFFF;\n    font-size: 14px;\n    display: inline-block;\n    text-align: center;\n    line-height: 28px;\n\n    "," {\n        width: 80px;\n        height: 32px;\n        line-height: 32px;\n        font-size: 16px;\n    }\n"])),(function(n){return n.background}),z),xt=R.b.div(Cn||(Cn=Object(U.a)(["\n    color: #5B4E6E;\n    font-size: 16px;\n    font-weight: 700;\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 8px;\n\n    "," {\n        font-size: 20px;\n    }\n"])),z),lt=R.b.div(kn||(kn=Object(U.a)(["\n    width: 30px;\n    height: 24px;\n    font-size: 12px;\n    background: ",";\n    border-radius: 16px;\n    color: ",";\n    position: absolute;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    top: 20px;\n    right: 8px;\n\n    "," {\n        font-size: 14px;\n        top: 22px;\n    }\n"])),(function(n){return n.background}),(function(n){return n.fontcolor}),z),bt=R.b.div(In||(In=Object(U.a)(["\n    width: auto;\n    height: 28px;\n    background: #6B00FF;\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n    border-radius: 16px;\n    font-size: 12px;\n    line-height: 28px;\n    text-align: center;\n    padding: 1px 8px 0 25px;\n    color: #FFFFFF;\n    position: absolute;\n    top: 20px;\n    right: 48px;\n\n    "," {\n        width: auto;\n        height: 32px;\n        font-size: 16px;\n        line-height: 28px;\n    }\n"])),z),ht=R.b.img(Un||(Un=Object(U.a)(["\n    position: absolute;\n    left: 9px;\n    top: 7px;\n\n    "," {\n        top: 8px;\n    }\n"])),z),jt=e(4),gt=R.b.div(Rn||(Rn=Object(U.a)(["\n    margin: 50% auto;\n    text-align: center;\n    font-weight: bold; \n    font-size: 32px;\n    color: black;\n    line-height: 40px;\n"]))),ft=function(){return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(gt,{children:["\u8f09\u5165\u5931\u6557",Object(G.jsx)("br",{}),Object(G.jsx)(V.b,{to:"/",children:"\u56de\u9996\u9801"})]})})},mt=function(n){var t=n.twCityName,e=n.cityName,i=n.routeUID,o=n.roundName,a=Object(jt.g)().routeTitle,r=Object(D.useState)(!0),c=Object(I.a)(r,2),s=c[0],p=c[1],u=Object(D.useState)(),d=Object(I.a)(u,2),x=d[0],l=d[1],b=function(){p(!s)},h=Object(D.useState)([]),j=Object(I.a)(h,2),g=j[0],f=j[1],m=Object(D.useState)([]),O=Object(I.a)(m,2),A=O[0],w=O[1],F="https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/".concat(e,"?%24filter=contains(RouteUID%2C%20'").concat(i,"')&%24format=JSON"),v=function(){var n=Object($n.a)(Ln.a.mark((function n(){var t,e,o;return Ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f([]),w([]),t=[],n.prev=3,n.next=6,fetch(F,{headers:Kn()});case 6:return e=n.sent,n.next=9,e.json();case 9:t=n.sent,n.next=16;break;case 12:n.prev=12,n.t0=n.catch(3),l(n.t0),console.log(n.t0);case 16:o=t.filter((function(n){return n.RouteUID===i&&0===n.StopStatus})),o.filter((function(n){return 0===n.Direction})).map((function(n){return f((function(t){return[].concat(Object(_n.a)(t),[{stopUID:n.StopUID,stopStatus:n.StopStatus,estimateTime:n.EstimateTime,stopSequence:n.StopSequence}])}))})),o.filter((function(n){return 1===n.Direction})).map((function(n){return w((function(t){return[].concat(Object(_n.a)(t),[{stopUID:n.StopUID,stopStatus:n.StopStatus,estimateTime:n.EstimateTime,stopSequence:n.StopSequence}])}))}));case 21:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(){return n.apply(this,arguments)}}(),B=Object(D.useState)([]),y=Object(I.a)(B,2),S=y[0],N=y[1],C=Object(D.useState)([]),k=Object(I.a)(C,2),U=k[0],R=k[1],E="https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/".concat(e,"?%24filter=contains(RouteUID%2C%20'").concat(i,"')&%24top=30&%24format=JSON"),T=function(){var n=Object($n.a)(Ln.a.mark((function n(){var t,e,i,o;return Ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],e=[],i=[],n.prev=3,n.next=6,fetch(E,{headers:Kn()});case 6:return o=n.sent,n.next=9,o.json();case 9:t=n.sent,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),console.log(n.t0);case 15:if(0!==(e=t.filter((function(n){return 0===n.Direction}))).length){n.next=18;break}return n.abrupt("return");case 18:if(e[0].Stops.map((function(n){return N((function(t){return[].concat(Object(_n.a)(t),[{stopSequence:n.StopSequence,stopName:n.StopName.Zh_tw,stopUID:n.StopUID}])}))})),0!==(i=t.filter((function(n){return 1===n.Direction}))).length){n.next=22;break}return n.abrupt("return");case 22:i[0].Stops.map((function(n){return R((function(t){return[].concat(Object(_n.a)(t),[{stopSequence:n.StopSequence,stopName:n.StopName.Zh_tw,stopUID:n.StopUID}])}))}));case 23:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(){return n.apply(this,arguments)}}(),z=function(n,t,i){var o=t.filter((function(t){return t.stopUID===n}));return 0===o.length?Object(G.jsx)(dt,{background:"#BDBDBD",children:"\u672a\u767c\u8eca"}):o.map((function(n){var t=Math.round(n.estimateTime/60),o="Keelung"===e,a=i===n.stopSequence;return 0===n.stopStatus&&t>1&&!o?Object(G.jsxs)(dt,{background:"#00C2BA",children:[t,"\u5206"]}):0===n.stopStatus&&t<=1?Object(G.jsx)(dt,{background:"#EB5757",children:"\u9032\u7ad9\u4e2d"}):3===n.stopStatus?Object(G.jsx)(dt,{background:"#BDBDBD",children:"\u672b\u73ed\u99db\u96e2"}):0===n.stopStatus&&t>1&&a?Object(G.jsxs)(dt,{background:"#00C2BA",children:[t,"\u5206"]}):void 0}))},M=Object(D.useState)([]),q=Object(I.a)(M,2),Z=q[0],Y=q[1],Q=Object(D.useState)([]),P=Object(I.a)(Q,2),V=P[0],W=P[1],J="https://ptx.transportdata.tw/MOTC/v2/Bus/RealTimeNearStop/City/".concat(e,"?%24filter=contains(RouteUID%2C%20'").concat(i,"')&%24format=JSON"),K=function(){var n=Object($n.a)(Ln.a.mark((function n(){var t,e;return Ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Y([]),W([]),t=[],n.prev=3,n.next=6,fetch(J,{headers:Kn()});case 6:return e=n.sent,n.next=9,e.json();case 9:t=n.sent,n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),console.log(n.t0);case 15:[],[],t.filter((function(n){return 0===n.Direction})).map((function(n){return Y((function(t){return[].concat(Object(_n.a)(t),[{plateNumb:n.PlateNumb,stopSequence:n.StopSequence,eventType:n.A2EventType,busStatus:n.BusStatus,stopUID:n.StopUID}])}))})),t.filter((function(n){return 1===n.Direction})).map((function(n){return W((function(t){return[].concat(Object(_n.a)(t),[{plateNumb:n.PlateNumb,stopSequence:n.StopSequence,eventType:n.A2EventType,busStatus:n.BusStatus,stopUID:n.StopUID}])}))}));case 21:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(){return n.apply(this,arguments)}}(),H=function(n,t,e){var i=t.findIndex((function(t){return t.stopSequence===n})),o=t[i];return i>-1&&1===o.eventType&&0===o.busStatus&&e===o.stopUID?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(lt,{background:"#6B00FF",fontcolor:"#FFFFFF",children:n}),Object(G.jsxs)(bt,{children:[Object(G.jsx)(ht,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADHSURBVHgBlVLRDYIwFKSEf3UCOwIbyAaOICPoBIwgG6ATOAJu4AjiBLJBvZfciy+IFC65tBzvei+vdYlBCKHA4pNx3J1znX6kxlRjacEGXIlE7qk9UXPUekdTjuVhTzd7n3y76JG6kU1GYQ3W5BQ63WRIk6QTT3tNuVCrczikTFuMdEZ7Q3TgVVsowCrmCNIrkRm9ZP/zwcQb6GVY4RdnuTLwrR59AD2Yk/+G5Uf/4bSLSZD0hmyNXo0ZS1OwjelD847PL6p/AIV3r8qdOKQVAAAAAElFTkSuQmCC"}),t[i].plateNumb]})]}):Object(G.jsx)(lt,{background:"#F2F2F2",fontcolor:"#BDBDBD",children:n})};return Object(D.useEffect)((function(){v(),K();var n=setInterval(K,1e4),t=setInterval(v,2e4);return T(),function(){clearInterval(t),clearInterval(n)}}),[]),Object(G.jsxs)(nt,{children:[x?Object(G.jsx)(ft,{}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(et,{children:Object(G.jsxs)(tt,{children:[Object(G.jsx)(it,{children:t}),Object(G.jsx)(ot,{children:a})]})}),Object(G.jsx)(at,{children:o.depart!==o.destination?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(rt,{onClick:b,className:s?"clicked":"unclick",children:o.depart}),Object(G.jsxs)(st,{children:[Object(G.jsx)("i",{className:"upper-left"}),Object(G.jsx)("i",{className:"lower-left"}),Object(G.jsx)("i",{className:"upper-right"}),Object(G.jsx)("i",{className:"lower-right"})]}),Object(G.jsx)(ct,{onClick:b,className:s?"unclick":"clicked",children:o.destination})]}):Object(G.jsx)(rt,{className:"clicked",children:o.depart})})]}),s?Object(G.jsx)(Ot,{departStopName:S,isBusCome:z,estimateDepart:g,showBusPlateNumb:H,departurePlateNum:Z}):Object(G.jsx)(At,{returnStopName:U,estimateReturn:A,isBusCome:z,returnPlateNum:V,showBusPlateNumb:H})]})},Ot=function(n){var t=n.departStopName,e=n.estimateDepart,i=n.isBusCome,o=n.showBusPlateNumb,a=n.departurePlateNum;return Object(G.jsx)(pt,{children:t.map((function(n,t){return Object(G.jsxs)(ut,{children:[i(n.stopUID,e,n.stopSequence),Object(G.jsx)(xt,{children:n.stopName}),0!==a.length?o(n.stopSequence,a,n.stopUID):Object(G.jsx)(lt,{background:"#F2F2F2",fontcolor:"#BDBDBD",children:n.stopSequence})]},t)}))})},At=function(n){var t=n.returnStopName,e=n.estimateReturn,i=n.isBusCome,o=n.returnPlateNum,a=n.showBusPlateNumb;return Object(G.jsx)(pt,{children:t.map((function(n,t){return Object(G.jsxs)(ut,{children:[i(n.stopUID,e,n.stopSequence),Object(G.jsx)(xt,{children:n.stopName}),0!==o.length?a(n.stopSequence,o,n.stopUID):Object(G.jsx)(lt,{background:"#F2F2F2",fontcolor:"#BDBDBD",children:n.stopSequence})]},t)}))})},wt=R.b.div(En||(En=Object(U.a)(["\n    max-width: 411px;\n    margin: 0 auto;\n    \n    "," {\n        max-width: 768px;\n    }\n"])),z),Ft=R.b.div(Tn||(Tn=Object(U.a)(["\n    width: 411px;\n    \n    "," {\n        width: 768px;\n    }\n"])),z),vt=R.b.div(zn||(zn=Object(U.a)(["\n    width: 100%;\n    border-radius: 0px 0px 16px 16px;\n    background: #6B00FF;\n    height: 96px;\n    padding: 16px 0 16px 30px;\n    position: absolute;\n    top: 80px;\n    left: 0;\n    display: flex;\n    justify-content: center;\n    \n    "," {\n        padding-left:7%;\n        height: 114px;\n    }\n\n"])),z),Bt=R.b.div(Mn||(Mn=Object(U.a)(["\n    background: #42EDF0;\n    border-radius: 20px;\n    font-size: 14px;\n    width: 58px;\n    height: 20px;\n    color: #6B00FF;\n    font-weight: bold;\n    text-align: center;\n    padding-top: 3px;\n"]))),yt=R.b.h2(qn||(qn=Object(U.a)(["\n    font-size: 28px;\n    color: #FFFFFF;\n    font-weight: bold;\n    position: absolute;\n    bottom: 16px;\n    \n    "," {\n        font-size: 36px;\n        bottom: 25px;\n    }\n\n"])),z),St=R.b.div(Zn||(Zn=Object(U.a)(["\n    margin-top: 30px;\n    display:flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    margin-top: 126px;\n"]))),Dt=R.b.div(Yn||(Yn=Object(U.a)(["\n    width: 349px;\n    height: 68px;\n    background: #FFFFFF;\n    border-radius: 16px;\n    padding: 20px 8px;\n    position: relative;\n    margin-bottom: 12px;\n    display: flex;\n    align-items: center;\n\n    "," {\n        width: 678px;\n        height: 72px;\n    }\n"])),z),Nt=R.b.div(Qn||(Qn=Object(U.a)(["\n    width: 72px;\n    height: 28px;\n    background: ",";\n    border-radius: 16px;\n    color: #FFFFFF;\n    font-size: 14px;\n    display: inline-block;\n    text-align: center;\n    line-height: 28px;\n\n    "," {\n        width: 80px;\n        height: 32px;\n        line-height: 32px;\n        font-size: 16px;\n    }\n"])),(function(n){return n.background}),z),Ct=R.b.div(Pn||(Pn=Object(U.a)(["\n    color: #5B4E6E;\n    font-size: 16px;\n    font-weight: 700;\n    margin-left: 8px;\n\n    "," {\n        font-size: 20px;\n    }\n"])),z),kt=R.b.span(Vn||(Vn=Object(U.a)(["\n        margin-left: 8px;\n        font-size: 14px;\n        color: #5B4E6E;\n\n        "," {\n            font-size: 16px;\n\n        }\n"])),z),It=(R.b.div(Gn||(Gn=Object(U.a)(["\n    width: 30px;\n    height: 24px;\n    font-size: 12px;\n    background: #F2F2F2;\n    border-radius: 16px;\n    color: #BDBDBD;\n    position: absolute;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    top: 20px;\n    right: 8px;\n\n    "," {\n        font-size: 14px;\n        top: 22px;\n    }\n"])),z),R.b.div(Wn||(Wn=Object(U.a)(["\n    width: 80px;\n    height: 28px;\n    background: #6B00FF;\n    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n    border-radius: 16px;\n    font-size: 14px;\n    line-height: 28px;\n    text-align: end;\n    padding: 1px 8px 0 8px;\n    color: #FFFFFF;\n    position: absolute;\n    top: 20px;\n    right: 48px;\n\n    "," {\n        width: 86px;\n        height: 32px;\n        font-size: 16px;\n        line-height: 28px;\n    }\n"])),z),R.b.img(Jn||(Jn=Object(U.a)(["\n    position: absolute;\n    left: 9px;\n    top: 7px;\n\n    "," {\n        top: 8px;\n    }\n"])),z),function(n){var t=n.twCityName,e=n.cityName,i=n.stopUID,o=Object(jt.g)().routeTitle,a=[],r=Object(D.useState)([]),c=Object(I.a)(r,2),s=c[0],p=c[1],u=function(){var n=Object($n.a)(Ln.a.mark((function n(){var t,o,a;return Ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/".concat(e,"?%24filter=contains(StopUID%2C'").concat(i,"')&%24top=30&%24format=JSON"),n.next=3,fetch(t,{headers:Kn()});case 3:return o=n.sent,n.next=6,o.json();case 6:a=n.sent,p([]),p((function(n){return[].concat(Object(_n.a)(n),[{routeUID:a.RouteUID,direction:a.Direction,stopStatus:a.StopStatus,estimateTime:a.EstimateTime}])}));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d="https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/".concat(e,"?%24select=RouteUID%2CRouteName%2CStops&%24format=JSON"),x=function(){var n=Object($n.a)(Ln.a.mark((function n(){var t,e;return Ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(d,{headers:Kn()});case 2:return t=n.sent,n.next=5,t.json();case 5:e=n.sent,jn(e,i,a),g();case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=Object(D.useState)([]),b=Object(I.a)(l,2),h=b[0],j=b[1],g=function(){var n=Object($n.a)(Ln.a.mark((function n(){var t,i;return Ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=Ln.a.mark((function n(t){var i,o,r;return Ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/".concat(e,"?%24filter=contains(RouteUID%2C%20'").concat(a[t],"')&%24top=30&%24format=JSON"),n.next=3,fetch(i);case 3:return o=n.sent,n.next=6,o.json();case 6:r=n.sent,j((function(n){return[].concat(Object(_n.a)(n),[{routeUID:r[0].RouteUID,routeName:r[0].RouteName.Zh_tw,departureStopNameZh:r[0].DepartureStopNameZh,destinationStopNameZh:r[0].DestinationStopNameZh}])}));case 8:case"end":return n.stop()}}),n)})),i=0;case 2:if(!(i<a.length)){n.next=7;break}return n.delegateYield(t(i),"t0",4);case 4:i++,n.next=2;break;case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),f=function(n){var t=s.filter((function(t){return t.routeUID===n}));return 0===t.length?Object(G.jsx)(Nt,{background:"#BDBDBD",children:"\u672a\u767c\u8eca"}):t.map((function(n){var t=Math.round(n.estimateTime/60);return 0===n.stopStatus&&t>1?Object(G.jsxs)(Nt,{background:"#00C2BA",children:[t,"\u5206"]}):0===n.stopStatus&&t<=1?Object(G.jsx)(Nt,{background:"#EB5757",children:"\u9032\u7ad9\u4e2d"}):3===n.stopStatus?Object(G.jsx)(Nt,{background:"#BDBDBD",children:"\u672b\u73ed\u99db\u96e2"}):void 0}))};return Object(D.useEffect)((function(){x(),u();var n=setInterval(u(),3e4);return function(){clearInterval(n)}}),[]),Object(G.jsxs)(wt,{children:[Object(G.jsx)(vt,{children:Object(G.jsxs)(Ft,{children:[Object(G.jsx)(Bt,{children:t}),Object(G.jsx)(yt,{children:o})]})}),Object(G.jsx)(St,{children:h.map((function(n,t){return Object(G.jsxs)(Dt,{children:[0!==s.length?f(n.routeUID):Object(G.jsx)(Nt,{background:"#BDBDBD",children:"\u672b\u73ed\u99db\u96e2"}),Object(G.jsxs)(Ct,{children:[n.routeName,Object(G.jsxs)(kt,{children:[">",n.destinationStopNameZh]})]})]},t)}))})]})});var Ut=function(){var n=Object(D.useState)(""),t=Object(I.a)(n,2),e=t[0],i=t[1],o=Object(D.useState)(""),a=Object(I.a)(o,2),r=a[0],c=a[1],s=Object(D.useState)(""),p=Object(I.a)(s,2),u=p[0],d=p[1],x=Object(D.useState)({}),l=Object(I.a)(x,2),b=l[0],h=l[1],j=Object(D.useState)(""),g=Object(I.a)(j,2),f=g[0],m=g[1];return Object(G.jsx)("div",{children:Object(G.jsxs)(V.a,{children:[Object(G.jsx)(E,{}),Object(G.jsx)(T,{}),Object(G.jsx)(W,{}),Object(G.jsxs)(jt.c,{children:[Object(G.jsx)(jt.a,{exact:!0,path:"/",element:Object(G.jsx)(Hn,{routeUID:u,cityName:r,setCityName:c,twCityName:e,setTwCityName:i,setRouteUID:d,setRoundName:h,setStopUID:m})}),Object(G.jsx)(jt.a,{exact:!0,path:"/busroute/:routeTitle",element:Object(G.jsx)(mt,{twCityName:e,cityName:r,routeUID:u,roundName:b})}),Object(G.jsx)(jt.a,{exact:!0,path:"/busstop/:routeTitle",element:Object(G.jsx)(It,{twCityName:e,cityName:r,stopUID:f})})]})]})})},Rt=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,35)).then((function(t){var e=t.getCLS,i=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;e(n),i(n),o(n),a(n),r(n)}))};k.a.render(Object(G.jsx)(N.a.StrictMode,{children:Object(G.jsx)(Ut,{})}),document.getElementById("root")),Rt()}},[[34,1,2]]]);
//# sourceMappingURL=main.c2564095.chunk.js.map